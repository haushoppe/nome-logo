<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>N≈çME Logo</title>

  <!-- this is the p5.js library -->
  <script src="/content/7e37766541506810ba6399c4b2735121f508bd9209df43dd200bf2316b014594i0"></script>
  <style>

    html, body {
      margin: 0;
      padding: 0;
      background-color: black;

      /* centers logo horizontally and vertically */
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    canvas {
      display: block;
    }
  </style>

  </head>
  <body>

    <script>
      // this must be on-chain, too!
      // upload the logo first, and change the ID here
      const logoInscription = '/content/f6765f00e4e019bef3d7bcac974eb58b55fa5b1d9af7f7e1ea15415e7a96e94ai0';
      const number_of_stars = 4000;
      let stars = [];
      let logo;

      class Star {
        constructor(x, y, z) {
          this.x = x;
          this.y = y;
          this.z = z;
          this.size = random(1.5, 2);
          this.offset = random(-5, 5);
        }

        display() {
          stroke(255);
          this.offset += 0.05;
          strokeWeight(this.size);
          point(this.x + 3 * sin(this.offset), this.y + 3 * cos(this.offset), this.z);
        }
      }

      function setup() {
        const canvas = createCanvas(600, 600, WEBGL);
        canvas.parent(document.body); // Append the canvas directly to the body
        logo = loadImage(logoInscription);
        const r = width / 3;
        for (let i = 0; i < number_of_stars; i++) {
          let found = true;
          let x, y, z;
          while (found) {
            const s = random(TWO_PI);
            const t = random(TWO_PI);
            x = r * cos(s) * sin(t);
            y = r * sin(s) * sin(t);
            z = r * cos(t);
            if (y * y > random(160 * 160)) {
              found = false;
            }
          }
          stars[i] = new Star(x, y, z);
        }
      }

      function draw() {
        background(0);
        push();
        rotateY(millis() / 4000);
        for (let i = 0; i < number_of_stars; i++) {
          stars[i].display();
        }
        pop();
        scale(1 / 4);
        image(logo, -logo.width / 2, -logo.height / 2);
      }
    </script>
  </body>
</html>
